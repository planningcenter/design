import { Meta, Story, Canvas } from "@storybook/addon-docs/blocks";

import TabbedNavigation, * as HorizontalMainNav from "../horizontal-main-nav.tsx";
import "../horizontal-main-nav.css";
import "../../utilities/visually-hidden.css";

import { SampleContainer } from "./helpers.tsx";

<Meta title="Grids/Horizontal Main Nav/Elements" />

# Horizontal Main Nav: Elements

This page is used for documentation and visual regression testing.

These are details for an accessible implementation of Horizontal Main Nav using the provided elements. React components are also provided for ease of implementation in React apps.

## Complete

Below is a full expression of Horizontal Main Nav with action buttons and standard accessibility considerations. This markup can be copy-pasted into into any of our supported development environments.

<Canvas>
  <Story name="Complete">
    <SampleContainer>
      <div data-horizontal-main-nav--container>
        <nav aria-label="Resource">
          <ul data-horizontal-main-nav--link-group>
            <li>
              <a data-horizontal-main-nav--link aria-current="page" href="#">
                Current
              </a>
            </li>
            <li>
              <a data-horizontal-main-nav--link href="#">
                Occluded
              </a>
            </li>
          </ul>
        </nav>
        <div data-horizontal-main-nav--action-group>
          <button data-horizontal-main-nav--action type="button">
            Action 1
          </button>
          <button data-horizontal-main-nav--action type="button">
            Action 2
          </button>
        </div>
      </div>
    </SampleContainer>
  </Story>
</Canvas>

## Nav

A `nav` element should wrap all nav, using `aria-label` to describe the resource being navigated.

Resist suffixes like "nav" or "nav" when constructing labels. Assistive technologies read landmarks like `<nav>` with appropriate suffixes.

**Example**:

```jsx
<nav aria-label="Michael Chan, person record" {...rest} />
```

<Canvas>
  <Story name="Nav">
    <SampleContainer>
      <div data-horizontal-main-nav--container>
        <nav
          aria-label="Michael Chan, person record"
          data-horizontal-main-nav--link-group
        >
          <a href="" data-horizontal-main-nav--link aria-current="page">
            Details
          </a>
          <a href="" data-horizontal-main-nav--link>
            Household
          </a>
        </nav>
      </div>
    </SampleContainer>
  </Story>
</Canvas>

## Container

`horizontal-main-nav--container` provides element justification and layout separation between Link Group and Action Group.

It's _always_ necessary, even when only one group is used.

<Canvas>
  <Story name="Container">
    <SampleContainer>
      <div data-horizontal-main-nav--container>
        <nav
          aria-label="Michael Chan, person record"
          data-horizontal-main-nav--link-group
        >
          <a href="" data-horizontal-main-nav--link aria-current="page">
            Details
          </a>
          <a href="" data-horizontal-main-nav--link>
            Household
          </a>
        </nav>
        <ul
          data-horizontal-main-nav--action-group
          aria-label="Michael Chan, person record actions"
        >
          <li>
            <button data-horizontal-main-nav--action type="button">
              Action 1
            </button>
          </li>
          <li>
            <button data-horizontal-main-nav--action type="button">
              Action 2
            </button>
          </li>
        </ul>
      </div>
    </SampleContainer>
  </Story>
</Canvas>

## Link Group

`data-horizontal-main-nav--link-group` wraps nav links, applying specified gaps and justification.

The provided example wraps links in a `<ul>`.  
This is recommended but optional markup.  
Utilizing the list markup allows assistive technologies to communicate the count of links present.

<Canvas>
  <Story name="Link Group">
    <SampleContainer>
      <div data-horizontal-main-nav--container>
        <nav data-horizontal-main-nav--link-group aria-label="Resource nav">
          <a data-horizontal-main-nav--link aria-current="page" href="#">
            Current
          </a>
          <a data-horizontal-main-nav--link href="#">
            Occluded
          </a>
        </nav>
      </div>
    </SampleContainer>
  </Story>
</Canvas>

## Action Group

`data-horizontal-main-nav--link-group` wraps action buttons, applying specified gaps and justification.

<Canvas>
  <Story name="Action Group">
    <SampleContainer>
      <div data-horizontal-main-nav--container>
        <nav data-horizontal-main-nav--link-group aria-label="Resource nav">
          <ul data-horizontal-main-nav--link-group>
            <li aria-current="page" data-horizontal-main-nav--link>
              Current
            </li>
          </ul>
        </nav>
        <div data-horizontal-main-nav--action-group>
          <button data-horizontal-main-nav--action type="button">
            Action 1
          </button>
          <button data-horizontal-main-nav--action type="button">
            Action 2
          </button>
        </div>
      </div>
    </SampleContainer>
  </Story>
</Canvas>

## Occluded Link

`horizontal-main-nav--link` defaults to an occluded visual state.

<Canvas>
  <Story name="Occluded Link">
    <SampleContainer>
      <div data-horizontal-main-nav--container>
        <nav data-horizontal-main-nav--link-group>
          <a data-horizontal-main-nav--link href="#">
            Occluded (:hover and :active)
          </a>
        </nav>
      </div>
    </SampleContainer>
  </Story>
</Canvas>

## Current Link

`aria-current="page"` is used to promote the current link for both screen screen-reader users.

<Canvas>
  <Story name="Current Link">
    <SampleContainer>
      <div data-horizontal-main-nav--container>
        <nav data-horizontal-main-nav--link-group>
          <a data-horizontal-main-nav--link aria-current="page" href="#">
            Current
          </a>
        </nav>
      </div>
    </SampleContainer>
  </Story>
</Canvas>

## Disabled Link

**It is strongly recommended that inaccessible|disabled links _not_ be presented to users.**  
**Disabled links are demonstrated here _only_ for spec compliance _not recommended_ as a user experience.**

`data-horizontal-main-nav--link` with attribute `aria-disabled="true"` get the specified disabled treatment.

`aria-disabled` will provide a minimal hint to screen-reader users:

| markup                | read                             |
| --------------------- | -------------------------------- |
| `a[aria-disabled]`    | "{link text}, dimmed, clickable" |
| `span[aria-disabled]` | "{link text}, dimmed"            |

Note that, use of an `<ul>` will include disabled links in the count.

<Canvas>
  <Story name="Disabled Link">
    <SampleContainer>
      <div data-horizontal-main-nav--container>
        <nav data-horizontal-main-nav--link-group>
          <a data-horizontal-main-nav--link aria-disabled>
            Disabled (anchor)
          </a>
          <span data-horizontal-main-nav--link aria-disabled>
            Disabled (span)
          </span>
        </nav>
      </div>
    </SampleContainer>
  </Story>
</Canvas>

## Link augmenter

`data-horizontal-main-nav--link-augmenter` is used to augment a link with temporal information.

Known acceptable uses include:

- Associated resource counter
- "New" feature call-out

Markup should reflect the separation of the link and augmenter — allowing for discrete labeling.

**Example:**

This example shows a discrete experiences for both screen and screenreader users:

- Screen: `Tasks (3)`
- Screenreader: `Link, Task, 3 new`

```html
<a data-horizontal-main-nav--link href="#">
  <span>Tasks</span>
  <span data-grids-visually-hidden>, </span>
  <span data-horizontal-main-nav--link-augmenter>3</span>
  <span data-grids-visually-hidden>new</span>
</a>
```

<Canvas>
  <Story name="Link augmenter">
    <SampleContainer>
      <div data-horizontal-main-nav--container>
        <nav data-horizontal-main-nav--link-group>
          <a data-horizontal-main-nav--link href="#">
            <span>Tasks</span>
            <span data-grids-visually-hidden>, </span>
            <span data-horizontal-main-nav--link-augmenter>3</span>
            <span data-grids-visually-hidden>new</span>
          </a>
          <a data-horizontal-main-nav--link href="#">
            <span>Tasks</span>
            <span data-grids-visually-hidden>, </span>
            <span data-horizontal-main-nav--link-augmenter>New</span>
            <span data-grids-visually-hidden>feature</span>
          </a>
        </nav>
      </div>
    </SampleContainer>
  </Story>
</Canvas>

## Link icon

`data-horizontal-main-nav--link-icon` applies specified styles to link icons.  
It can be used with Planning Center Icons or text characters — like emoji.

In all cases, text and icon labeling should be handled discretely. The sample below demonstrates accessible markup for icon use.

```html
<a data-horizontal-main-nav--link data-vertical-tab href="#">
  <span>Tasks</span>
  <span aria-label=", complete" data-horizontal-main-nav--link-icon>
    <span aria-hidden="true">☑️</span>
  </span>
</a>
```

<Canvas>
  <Story name="Link icon">
    <SampleContainer>
      <div data-horizontal-main-nav--container>
        <nav data-horizontal-main-nav--link-group>
          <a data-horizontal-main-nav--link data-vertical-tab href="#">
            <span>Tasks</span>
            <span aria-label=", complete" data-horizontal-main-nav--link-icon>
              <span aria-hidden="true">☑️</span>
            </span>
          </a>
        </nav>
      </div>
    </SampleContainer>
  </Story>
</Canvas>
